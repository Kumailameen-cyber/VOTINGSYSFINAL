@{
    ViewData["Title"] = "Admin Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";

    // Total registered voters in the system
    var totalVoters = (int)ViewBag.TotalVoters;

    // Total registered candidates
    var totalCandidates = (int)ViewBag.TotalCandidates;

    // Number of voter accounts pending verification
    var pendingVerifications = (int)ViewBag.PendingVerifications;

    // Number of candidate accounts pending approval
    var pendingApprovals = (int)ViewBag.PendingApprovals;

    // Number of currently active elections
    var activeElections = (int)ViewBag.ActiveElections;

    // Total votes cast across all elections
    var totalVotesCast = (int)ViewBag.TotalVotesCast;
}

<div class="container-fluid mt-4">

    <!-- ================= Admin Dashboard Header ================= -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card bg-gradient-dark text-white shadow-lg border-0">
                <div class="card-body py-4">
                    <h2 class="mb-2">
                        <i class="fas fa-tachometer-alt me-2"></i>Admin Dashboard
                    </h2>
                    <p class="mb-0">
                        Monitor and manage the Online Voting System effectively.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- ================= Statistics Cards ================= -->
    <div class="row mb-4" justify-content-center>

        <!-- Total Voters -->
        <div class="col-xl-6 col-md-6 mb-4">
            <div class="card border-0 shadow h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="flex-grow-1">
                            <div class="text-muted small">Total Voters</div>
                            <div class="h2 mb-0">@totalVoters</div>
                        </div>
                        <div class="ms-3">
                            <i class="fas fa-users fa-3x text-primary opacity-50"></i>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-primary text-white d-flex align-items-center justify-content-between">
                    <a asp-action="ManageVoters" class="text-white small stretched-link">View Details</a>
                    <i class="fas fa-arrow-right text-white"></i>
                </div>
            </div>
        </div>

        <!-- Total Candidates -->
        <div class="col-xl-6 col-md-6 mb-4">
            <div class="card border-0 shadow h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="flex-grow-1">
                            <div class="text-muted small">Total Candidates</div>
                            <div class="h2 mb-0">@totalCandidates</div>
                        </div>
                        <div class="ms-3">
                            <i class="fas fa-user-tie fa-3x text-success opacity-50"></i>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-success text-white d-flex align-items-center justify-content-between">
                    <a asp-action="ManageCandidates" class="text-white small stretched-link">View Details</a>
                    <i class="fas fa-arrow-right text-white"></i>
                </div>
            </div>
        </div>

    </div>

    <div class="row mb-4">

        <!-- Active Elections -->
        <div class="col-xl-6 col-md-6 mb-4">
            <div class="card border-0 shadow h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="flex-grow-1">
                            <div class="text-muted small">Active Elections</div>
                            <div class="h2 mb-0">@activeElections</div>
                        </div>
                        <div class="ms-3">
                            <i class="fas fa-poll fa-3x text-danger opacity-50"></i>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-danger text-white d-flex align-items-center justify-content-between">
                    <a asp-action="ManageElections" class="text-white small stretched-link">Manage Elections</a>
                    <i class="fas fa-arrow-right text-white"></i>
                </div>
            </div>
        </div>

        <!-- Total Votes Cast -->
        <div class="col-xl-6 col-md-6 mb-4">
            <div class="card border-0 shadow h-100">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="flex-grow-1">
                            <div class="text-muted small">Total Votes Cast</div>
                            <div class="h2 mb-0">@totalVotesCast</div>
                        </div>
                        <div class="ms-3">
                            <i class="fas fa-vote-yea fa-3x text-secondary opacity-50"></i>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-secondary text-white d-flex align-items-center justify-content-between">
                    <span class="small">System Statistics</span>
                    <i class="fas fa-chart-bar text-white"></i>
                </div>
            </div>
        </div>

    </div>

    <!-- ================= Quick Actions Section ================= -->
    <div class="row">
        <div class="col-12">
            <div class="card shadow border-0">
                <div class="card-header bg-dark text-white py-3">
                    <h5 class="mb-0">
                        <i class="fas fa-bolt me-2"></i>Quick Actions
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row text-center">

                        <!-- Manage Voters -->
                        <div class="col-md-3 mb-3">
                            <a asp-action="ManageUsers" class="btn btn-outline-primary btn-lg w-100 h-100 py-4">
                                <i class="fas fa-users fa-3x mb-2 d-block"></i>
                                Manage Voters
                            </a>
                        </div>

                        <!-- Manage Candidates -->
                        <div class="col-md-3 mb-3">
                            <a asp-action="ManageCandidates" class="btn btn-outline-success btn-lg w-100 h-100 py-4">
                                <i class="fas fa-user-tie fa-3x mb-2 d-block"></i>
                                Manage Candidates
                            </a>
                        </div>

                        <!-- Manage Elections -->
                        <div class="col-md-3 mb-3">
                            <a asp-action="ManageElections" class="btn btn-outline-danger btn-lg w-100 h-100 py-4">
                                <i class="fas fa-poll fa-3x mb-2 d-block"></i>
                                Manage Elections
                            </a>
                        </div>

                        <!-- Create Election -->
                        <div class="col-md-3 mb-3">
                            <a asp-action="CreateElection" class="btn btn-outline-info btn-lg w-100 h-100 py-4">
                                <i class="fas fa-plus-circle fa-3x mb-2 d-block"></i>
                                Create Election
                            </a>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<style>
    /* Gradient background for the dashboard header card */
    .bg-gradient-dark {
        background: linear-gradient(135deg, #232526 0%, #414345 100%);
    }

    /* Reduce icon opacity for subtle styling */
    .opacity-50 {
        opacity: 0.5;
    }

    /* Ensure the entire card footer is clickable when using stretched-link */
    .stretched-link::after {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 1;
        content: "";
    }
</style>
